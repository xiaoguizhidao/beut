var Opentip,firstAdapter,i,mouseMoved,mousePosition,mousePositionObservers,position,vendors,_i,_len,_ref,__slice=[].slice,__indexOf=[].indexOf||function(b){for(var a=0,d=this.length;d>a;a++)if(a in this&&this[a]===b)return a;return-1},__hasProp={}.hasOwnProperty;
Opentip=function(){function b(a,d,e,c){var l,h,f,g,k=this;if(this.id=++b.lastId,this.debug("Creating Opentip."),b.tips.push(this),this.adapter=b.adapter,l=this.adapter.data(a,"opentips")||[],l.push(this),this.adapter.data(a,"opentips",l),this.triggerElement=this.adapter.wrap(a),1<this.triggerElement.length)throw Error("You can't call Opentip on multiple elements.");if(1>this.triggerElement.length)throw Error("Invalid element.");this.waitingToHide=this.waitingToShow=this.visible=this.loading=this.loaded=
!1;this.currentPosition={left:0,top:0};this.dimensions={width:100,height:50};this.content="";this.redraw=!0;this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1};c=this.adapter.clone(c);"object"==typeof d?(c=d,d=e=void 0):"object"==typeof e&&(c=e,e=void 0);null!=e&&(c.title=e);null!=d&&this.setContent(d);null==c["extends"]&&(c["extends"]=null!=c.style?c.style:b.defaultStyle);a=[c];for(d=c;d["extends"];){if(f=d["extends"],d=b.styles[f],null==d)throw Error("Invalid style: "+f);a.unshift(d);
null==d["extends"]&&"standard"!==f&&(d["extends"]="standard")}c=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(a)));c.hideTriggers=function(){var a,e,d,b;d=c.hideTriggers;b=[];a=0;for(e=d.length;e>a;a++)h=d[a],b.push(h);return b}();c.hideTrigger&&0===c.hideTriggers.length&&c.hideTriggers.push(c.hideTrigger);d=["tipJoint","targetJoint","stem"];g=0;for(a=d.length;a>g;g++)f=d[g],c[f]&&"string"==typeof c[f]&&(c[f]=new b.Joint(c[f]));!c.ajax||!0!==c.ajax&&c.ajax||(c.ajax="A"===this.adapter.tagName(this.triggerElement)?
this.adapter.attr(this.triggerElement,"href"):!1);"click"===c.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(a){return a.preventDefault(),a.stopPropagation(),a.stopped=!0});c.target&&(c.fixed=!0);!0===c.stem&&(c.stem=new b.Joint(c.tipJoint));!0===c.target?c.target=this.triggerElement:c.target&&(c.target=this.adapter.wrap(c.target));this.currentStem=c.stem;null==c.delay&&(c.delay="mouseover"===c.showOn?0.2:0);null==c.targetJoint&&
(c.targetJoint=(new b.Joint(c.tipJoint)).flip());this.showTriggers=[];this.showTriggersWhenVisible=[];this.hideTriggers=[];c.showOn&&"creation"!==c.showOn&&this.showTriggers.push({element:this.triggerElement,event:c.showOn});null!=c.ajaxCache&&(c.cache=c.ajaxCache,delete c.ajaxCache);this.options=c;this.bound={};d=["prepareToShow","prepareToHide","show","hide","reposition"];g=0;for(a=d.length;a>g;g++)f=d[g],this.bound[f]=function(a){return function(){return k[a].apply(k,arguments)}}(f);this.adapter.domReady(function(){return k.activate(),
"creation"===k.options.showOn?k.prepareToShow():void 0})}return b.prototype.STICKS_OUT_TOP=1,b.prototype.STICKS_OUT_BOTTOM=2,b.prototype.STICKS_OUT_LEFT=1,b.prototype.STICKS_OUT_RIGHT=2,b.prototype["class"]={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",
ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},b.prototype._setup=function(){var a,d,e,c,b,h;this.debug("Setting up the tooltip.");this._buildContainer();this.hideTriggers=[];h=this.options.hideTriggers;a=c=0;for(b=h.length;b>c;a=++c){if(d=h[a],e=null,a=this.options.hideOn instanceof Array?this.options.hideOn[a]:this.options.hideOn,"string"==typeof d)switch(d){case "trigger":a=a||"mouseout";e=this.triggerElement;
break;case "tip":a=a||"mouseover";e=this.container;break;case "target":a=a||"mouseover";e=this.options.target;break;case "closeButton":break;default:throw Error("Unknown hide trigger: "+d+".");}else a=a||"mouseover",e=this.adapter.wrap(d);e&&this.hideTriggers.push({element:e,event:a,original:d})}b=this.hideTriggers;h=[];e=0;for(c=b.length;c>e;e++)d=b[e],h.push(this.showTriggersWhenVisible.push({element:d.element,event:"mouseover"}));return h},b.prototype._buildContainer=function(){return this.container=
this.adapter.create('<div id="opentip-'+this.id+'" class="'+this["class"].container+" "+this["class"].hidden+" "+this["class"].stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this["class"].loading),this.options.fixed&&this.adapter.addClass(this.container,this["class"].fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this["class"].showEffectPrefix+this.options.showEffect),
this.options.hideEffect?this.adapter.addClass(this.container,""+this["class"].hideEffectPrefix+this.options.hideEffect):void 0},b.prototype._buildElements=function(){var a,d;return this.tooltipElement=this.adapter.create('<div class="'+this["class"].opentip+'"><div class="'+this["class"].header+'"></div><div class="'+this["class"].content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=
typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),a=this.adapter.find(this.tooltipElement,"."+this["class"].header),this.options.title&&(d=this.adapter.create("<h1></h1>"),this.adapter.update(d,this.options.title,this.options.escapeTitle),this.adapter.append(a,d)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this["class"].loadingIndicator+'"><span>\u21bb</span></div>')),
0<=__indexOf.call(this.options.hideTriggers,"closeButton")&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this["class"].close+'"><span>Close</span></a>'),this.adapter.append(a,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},b.prototype.setContent=function(a){return this.content=a,this._newContent=
!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible?this._updateElementContent():void 0},b.prototype._updateElementContent=function(){var a;return(this._newContent||!this.options.cache&&this._contentFunction)&&(a=this.adapter.find(this.container,"."+this["class"].content),null!=a&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(a,this.content,
this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},b.prototype._storeAndLockDimensions=function(){var a;if(this.container)return a=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:""+this.dimensions.width+"px",top:""+this.currentPosition.top+"px",left:""+this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,
a)?void 0:(this.redraw=!0,this._draw())},b.prototype.activate=function(){return this._setupObservers("hidden","hiding")},b.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},b.prototype._setupObservers=function(){var a,d,e,c,b,h,f,g,k,n,m=this;c=1<=arguments.length?__slice.call(arguments,0):[];h=0;for(g=c.length;g>h;h++)if(e=c[h],d=!1,"-"===e.charAt(0)&&(d=!0,e=e.substr(1)),this.currentObservers[e]!==
!d)switch(this.currentObservers[e]=!d,a=function(){var a,c,e;return a=1<=arguments.length?__slice.call(arguments,0):[],d?(c=m.adapter).stopObserving.apply(c,a):(e=m.adapter).observe.apply(e,a)},e){case "showing":n=this.hideTriggers;f=0;for(k=n.length;k>f;f++)b=n[f],a(b.element,b.event,this.bound.prepareToHide);a(null!=document.onresize?document:window,"resize",this.bound.reposition);a(window,"scroll",this.bound.reposition);break;case "visible":n=this.showTriggersWhenVisible;f=0;for(k=n.length;k>f;f++)b=
n[f],a(b.element,b.event,this.bound.prepareToShow);break;case "hiding":n=this.showTriggers;f=0;for(k=n.length;k>f;f++)b=n[f],a(b.element,b.event,this.bound.prepareToShow);break;case "hidden":break;default:throw Error("Unknown state: "+e);}return null},b.prototype.prepareToShow=function(){return this._abortHiding(),this._abortShowing(),this.visible?void 0:(this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&b._abortShowingGroup(this.options.group,
this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0))},b.prototype.show=function(){var a=this;return this._abortHiding(),this.visible?void 0:(this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&
b._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:b.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=
mousePosition),this.reposition(),this.adapter.removeClass(this.container,this["class"].hiding),this.adapter.removeClass(this.container,this["class"].hidden),this.adapter.addClass(this.container,this["class"].goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var b;if(a.visible&&!a.preparingToHide)return a.adapter.removeClass(a.container,a["class"].goingToShow),a.adapter.addClass(a.container,a["class"].showing),b=0,a.options.showEffect&&a.options.showEffectDuration&&
(b=a.options.showEffectDuration),a.setCss3Style(a.container,{transitionDuration:""+b+"s"}),a._visibilityStateTimeoutId=a.setTimeout(function(){return a.adapter.removeClass(a.container,a["class"].showing),a.adapter.addClass(a.container,a["class"].visible)},b),a._activateFirstInput()}),this._draw()):this.deactivate())},b.prototype._abortShowing=function(){return this.preparingToShow?(this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing",
"-visible","hiding","hidden")):void 0},b.prototype.prepareToHide=function(){return this._abortShowing(),this._abortHiding(),this.visible?(this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)):void 0},b.prototype.hide=function(){var a=this;return this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,
this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container)?(this.adapter.removeClass(this.container,this["class"].visible),this.adapter.removeClass(this.container,this["class"].showing),this.adapter.addClass(this.container,this["class"].goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var b;return a.adapter.removeClass(a.container,
a["class"].goingToHide),a.adapter.addClass(a.container,a["class"].hiding),b=0,a.options.hideEffect&&a.options.hideEffectDuration&&(b=a.options.hideEffectDuration),a.setCss3Style(a.container,{transitionDuration:""+b+"s"}),a._visibilityStateTimeoutId=a.setTimeout(function(){return a.adapter.removeClass(a.container,a["class"].hiding),a.adapter.addClass(a.container,a["class"].hidden),a.setCss3Style(a.container,{transitionDuration:"0s"}),a.options.removeElementsOnHide?(a.debug("Removing HTML elements."),
a.adapter.remove(a.container),delete a.container,delete a.tooltipElement):void 0},b)})):void 0},b.prototype._abortHiding=function(){return this.preparingToHide?(this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")):void 0},b.prototype.reposition=function(){var a,b,e,c=this;return a=this.getPosition(),null==a||(b=this.options.stem,this.options.containInViewport&&(e=this._ensureViewportContainment(a),a=e.position,b=e.stem),
this._positionsEqual(a,this.currentPosition))?void 0:(this.options.stem&&!b.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=a,this.currentStem=b,this._draw(),this.adapter.css(this.container,{left:""+a.left+"px",top:""+a.top+"px"}),this.defer(function(){var a;return a=c.adapter.unwrap(c.container),a.style.visibility="hidden",a.style.visibility="visible"}))},b.prototype.getPosition=function(a,b,e){var c,l,h,f,g,k,n,m,s;if(this.container)return null==a&&(a=this.options.tipJoint),null==b&&
(b=this.options.targetJoint),this.options.target?(n=this.adapter.offset(this.options.target),k=this.adapter.dimensions(this.options.target),f=n,b.right?(m=this.adapter.unwrap(this.options.target),null!=m.getBoundingClientRect?f.left=m.getBoundingClientRect().right+(null!=(s=window.pageXOffset)?s:document.body.scrollLeft):f.left+=k.width):b.center&&(f.left+=Math.round(k.width/2)),b.bottom?f.top+=k.height:b.middle&&(f.top+=Math.round(k.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&
(f.left+=this.options.borderWidth),this.options.tipJoint.right&&(f.left-=this.options.borderWidth),this.options.tipJoint.top?f.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(f.top-=this.options.borderWidth))):f=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(g=this.options.stem?this.options.stemLength:0,h=g&&this.options.fixed?2:10,c=a.middle&&!this.options.fixed?15:0,l=
a.center&&!this.options.fixed?15:0,a.right?f.left-=h+c:a.left&&(f.left+=h+c),a.bottom?f.top-=h+l:a.top&&(f.top+=h+l),g&&(null==e&&(e=this.options.stem),e.right?f.left-=g:e.left&&(f.left+=g),e.bottom?f.top-=g:e.top&&(f.top+=g))),f.left+=this.options.offset[0],f.top+=this.options.offset[1],a.right?f.left-=this.dimensions.width:a.center&&(f.left-=Math.round(this.dimensions.width/2)),a.bottom?f.top-=this.dimensions.height:a.middle&&(f.top-=Math.round(this.dimensions.height/2)),f},b.prototype._ensureViewportContainment=
function(a){var d,e,c,l,h,f,g,k,n,m;if(!((f=this.options.stem,c={position:a,stem:f},this.visible&&a)&&(g=this._sticksOut(a),g[0]||g[1])))return c;if(n=new b.Joint(this.options.tipJoint),this.options.targetJoint&&(k=new b.Joint(this.options.targetJoint)),this.adapter.scrollOffset(),m=this.adapter.viewportDimensions(),d=!1,m.width>=this.dimensions.width&&g[0])switch(d=!0,g[0]){case this.STICKS_OUT_LEFT:n.setHorizontal("left");this.options.targetJoint&&k.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:n.setHorizontal("right"),
this.options.targetJoint&&k.setHorizontal("left")}if(m.height>=this.dimensions.height&&g[1])switch(d=!0,g[1]){case this.STICKS_OUT_TOP:n.setVertical("top");this.options.targetJoint&&k.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:n.setVertical("bottom"),this.options.targetJoint&&k.setVertical("top")}return d?(this.options.stem&&(f=n),a=this.getPosition(n,k,f),e=this._sticksOut(a),l=!1,h=!1,e[0]&&e[0]!==g[0]&&(l=!0,n.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&
k.setHorizontal(this.options.targetJoint.horizontal)),e[1]&&e[1]!==g[1]&&(h=!0,n.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&k.setVertical(this.options.targetJoint.vertical)),l&&h?c:((l||h)&&(this.options.stem&&(f=n),a=this.getPosition(n,k,f)),{position:a,stem:f})):c},b.prototype._sticksOut=function(a){var b,e,c,l;return e=this.adapter.scrollOffset(),l=this.adapter.viewportDimensions(),b=[a.left-e[0],a.top-e[1]],c=[!1,!1],0>b[0]?c[0]=this.STICKS_OUT_LEFT:b[0]+this.dimensions.width>
l.width&&(c[0]=this.STICKS_OUT_RIGHT),0>b[1]?c[1]=this.STICKS_OUT_TOP:b[1]+this.dimensions.height>l.height&&(c[1]=this.STICKS_OUT_BOTTOM),c},b.prototype._draw=function(){var a,d,e,c,l,h,f,g,k,n,m,s,t,u,r,x,v,C,z,q=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){v=["top","right","bottom","left"];r=0;for(x=v.length;x>r;r++)s=v[r],this.adapter.removeClass(this.container,"stem-"+s);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal);
this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return h=[0,0],f=[0,0],0<=__indexOf.call(this.options.hideTriggers,"closeButton")&&(l=new b.Joint("top right"===(null!=(C=this.currentStem)?C+"":void 0)?"top left":"top right"),h=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],f=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),
e=this.adapter.clone(this.dimensions),c=[0,0],this.options.borderWidth&&(e.width+=2*this.options.borderWidth,e.height+=2*this.options.borderWidth,c[0]-=this.options.borderWidth,c[1]-=this.options.borderWidth),this.options.shadow&&(e.width+=2*this.options.shadowBlur,e.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),e.height+=2*this.options.shadowBlur,e.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),c[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),
c[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),d={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?d.left=this.options.stemLength:this.currentStem.right&&(d.right=this.options.stemLength),this.currentStem.top?d.top=this.options.stemLength:this.currentStem.bottom&&(d.bottom=this.options.stemLength)),l&&(l.left?d.left=Math.max(d.left,f[0]):l.right&&(d.right=Math.max(d.right,f[0])),l.top?d.top=Math.max(d.top,f[1]):l.bottom&&(d.bottom=Math.max(d.bottom,
f[1]))),e.width+=d.left+d.right,e.height+=d.top+d.bottom,c[0]-=d.left,c[1]-=d.top,this.currentStem&&this.options.borderWidth&&(z=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),u=z.stemLength,t=z.stemBase),a=this.adapter.unwrap(this.backgroundCanvas),a.width=e.width,a.height=e.height,this.adapter.css(this.backgroundCanvas,{width:""+a.width+"px",height:""+a.height+"px",left:""+c[0]+"px",top:""+c[1]+"px"}),g=a.getContext("2d"),g.setTransform(1,0,0,1,
0,0),g.clearRect(0,0,a.width,a.height),g.beginPath(),g.fillStyle=this._getColor(g,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),g.lineJoin="miter",g.miterLimit=500,m=this.options.borderWidth/2,this.options.borderWidth?(g.strokeStyle=this.options.borderColor,g.lineWidth=this.options.borderWidth):(u=this.options.stemLength,t=this.options.stemBase),null==t&&(t=0),n=function(a,c,e){return e&&g.moveTo(Math.max(t,q.options.borderRadius,h[0])+1-m,-m),c?(g.lineTo(a/2-
t/2,-m),g.lineTo(a/2,-u-m),g.lineTo(a/2+t/2,-m)):void 0},k=function(a,c,e){var b,d,f,w;return a?(g.lineTo(-t+m,0-m),g.lineTo(u+m,-u-m),g.lineTo(m,t-m)):c?(w=q.options.closeButtonOffset,f=h[0],0!==e%2&&(w=[w[1],w[0]],f=h[1]),b=Math.acos(w[1]/q.options.closeButtonRadius),d=Math.acos(w[0]/q.options.closeButtonRadius),g.lineTo(-f+m,-m),g.arc(m-w[0],-m+w[1],q.options.closeButtonRadius,-(Math.PI/2+b),d,!1)):(g.lineTo(-q.options.borderRadius+m,-m),g.quadraticCurveTo(m,-m,m,q.options.borderRadius-m))},g.translate(-c[0],
-c[1]),g.save(),function(){var a,c,e,d,f,h,w,A,B,E;E=[];c=A=0;for(B=b.positions.length/2;0<=B?B>A:A>B;c=0<=B?++A:--A)a=2*c,f=0===c||3===c?0:q.dimensions.width,h=2>c?0:q.dimensions.height,w=Math.PI/2*c,e=0===c%2?q.dimensions.width:q.dimensions.height,d=new b.Joint(b.positions[a]),a=new b.Joint(b.positions[a+1]),g.save(),g.translate(f,h),g.rotate(w),n(e,d.eql(q.currentStem),0===c),g.translate(e,0),k(a.eql(q.currentStem),a.eql(l),c),E.push(g.restore());return E}(),g.closePath(),g.save(),this.options.shadow&&
(g.shadowColor=this.options.shadowColor,g.shadowBlur=this.options.shadowBlur,g.shadowOffsetX=this.options.shadowOffset[0],g.shadowOffsetY=this.options.shadowOffset[1]),g.fill(),g.restore(),this.options.borderWidth&&g.stroke(),g.restore(),l?function(){var a,c,e;return"top right"==l+""?(e=[q.dimensions.width-q.options.closeButtonOffset[0],q.options.closeButtonOffset[1]],a=[e[0]+m,e[1]-m]):(e=[q.options.closeButtonOffset[0],q.options.closeButtonOffset[1]],a=[e[0]-m,e[1]-m]),g.translate(a[0],a[1]),c=
q.options.closeButtonCrossSize/2,g.save(),g.beginPath(),g.strokeStyle=q.options.closeButtonCrossColor,g.lineWidth=q.options.closeButtonCrossLineWidth,g.lineCap="round",g.moveTo(-c,-c),g.lineTo(c,c),g.stroke(),g.beginPath(),g.moveTo(c,-c),g.lineTo(-c,c),g.stroke(),g.restore(),q.adapter.css(q.closeButtonElement,{left:""+(e[0]-c-q.options.closeButtonLinkOverscan)+"px",top:""+(e[1]-c-q.options.closeButtonLinkOverscan)+"px",width:""+(q.options.closeButtonCrossSize+2*q.options.closeButtonLinkOverscan)+
"px",height:""+(q.options.closeButtonCrossSize+2*q.options.closeButtonLinkOverscan)+"px"})}():void 0}},b.prototype._getPathStemMeasures=function(a,b,e){var c,l,h,f,g,k,n;if(f=e/2,h=Math.atan(a/2/b),c=2*h,g=f/Math.sin(c),l=2*g*Math.cos(h),n=f+b-l,0>n)throw Error("Sorry but your stemLength / stemBase ratio is strange.");return k=Math.tan(h)*n*2,{stemLength:n,stemBase:k}},b.prototype._getColor=function(a,b,e,c){var l;if(null==c&&(c=!1),"string"==typeof e)return e;a=c?a.createLinearGradient(0,0,b.width,
0):a.createLinearGradient(0,0,0,b.height);l=b=0;for(c=e.length;c>b;l=++b)l=e[l],a.addColorStop(l[0],l[1]);return a},b.prototype._searchAndActivateCloseButtons=function(){var a,b,e,c;c=this.adapter.findAll(this.container,"."+this["class"].close);b=0;for(e=c.length;e>b;b++)a=c[b],this.hideTriggers.push({element:this.adapter.wrap(a),event:"click"});return this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible?this._setupObservers("-visible","visible"):
void 0},b.prototype._activateFirstInput=function(){var a;return a=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")),null!=a?"function"==typeof a.focus?a.focus():void 0:void 0},b.prototype._followMousePosition=function(){return this.options.fixed?void 0:b._observeMousePosition(this.bound.reposition)},b.prototype._stopFollowingMousePosition=function(){return this.options.fixed?void 0:b._stopObservingMousePosition(this.bound.reposition)},b.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},
b.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},b.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},b.prototype._triggerElementExists=function(){var a;for(a=this.adapter.unwrap(this.triggerElement);a.parentNode;){if("BODY"===a.parentNode.tagName)return!0;a=a.parentNode}return!1},b.prototype._loadAjax=function(){var a=this;if(!this.loading)return this.loaded=!1,this.loading=!0,
this.adapter.addClass(this.container,this["class"].loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(b){return a.debug("Loading successful."),a.adapter.removeClass(a.container,a["class"].loading),a.setContent(b)},onError:function(b){var e;return e=a.options.ajaxErrorMessage,a.debug(e,b),a.setContent(e),a.adapter.addClass(a.container,a["class"].ajaxError)},onComplete:function(){return a.adapter.removeClass(a.container,
a["class"].loading),a.loading=!1,a.loaded=!0,a._searchAndActivateCloseButtons(),a._activateFirstInput(),a.reposition()}})},b.prototype._ensureTriggerElement=function(){return this._triggerElementExists()?void 0:(this.deactivate(),this._stopEnsureTriggerElement())},b.prototype._ensureTriggerElementInterval=1E3,b.prototype._startEnsureTriggerElement=function(){var a=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return a._ensureTriggerElement()},this._ensureTriggerElementInterval)},
b.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},b}();vendors=["khtml","ms","o","moz","webkit"];
Opentip.prototype.setCss3Style=function(b,a){var d,e,c,l,h;b=this.adapter.unwrap(b);h=[];for(d in a)__hasProp.call(a,d)&&(e=a[d],null!=b.style[d]?h.push(b.style[d]=e):h.push(function(){var a,g,h;h=[];a=0;for(g=vendors.length;g>a;a++)c=vendors[a],l=""+this.ucfirst(c)+this.ucfirst(d),null!=b.style[l]?h.push(b.style[l]=e):h.push(void 0);return h}.call(this)));return h};Opentip.prototype.defer=function(b){return setTimeout(b,0)};Opentip.prototype.setTimeout=function(b,a){return setTimeout(b,a?1E3*a:0)};
Opentip.prototype.ucfirst=function(b){return null==b?"":b.charAt(0).toUpperCase()+b.slice(1)};Opentip.prototype.dasherize=function(b){return b.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()})};mousePositionObservers=[];mousePosition={x:0,y:0};mouseMoved=function(b){var a,d,e;mousePosition=Opentip.adapter.mousePosition(b);e=[];a=0;for(d=mousePositionObservers.length;d>a;a++)b=mousePositionObservers[a],e.push(b());return e};
Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)};Opentip._observeMousePosition=function(b){return mousePositionObservers.push(b)};Opentip._stopObservingMousePosition=function(b){var a,d,e,c;c=[];d=0;for(e=mousePositionObservers.length;e>d;d++)a=mousePositionObservers[d],a!==b&&c.push(a);return mousePositionObservers=c};
Opentip.Joint=function(){function b(a){null!=a&&(a instanceof Opentip.Joint&&(a+=""),this.set(a))}return b.prototype.set=function(a){return a=a.toLowerCase(),this.setHorizontal(a),this.setVertical(a),this},b.prototype.setHorizontal=function(a){var b,e,c,l;e=["left","center","right"];c=0;for(l=e.length;l>c;c++)b=e[c],~a.indexOf(b)&&(this.horizontal=b.toLowerCase());null==this.horizontal&&(this.horizontal="center");l=[];a=0;for(c=e.length;c>a;a++)b=e[a],l.push(this[b]=this.horizontal===b?b:void 0);
return l},b.prototype.setVertical=function(a){var b,e,c,l;e=["top","middle","bottom"];c=0;for(l=e.length;l>c;c++)b=e[c],~a.indexOf(b)&&(this.vertical=b.toLowerCase());null==this.vertical&&(this.vertical="middle");l=[];a=0;for(c=e.length;c>a;a++)b=e[a],l.push(this[b]=this.vertical===b?b:void 0);return l},b.prototype.eql=function(a){return null!=a&&this.horizontal===a.horizontal&&this.vertical===a.vertical},b.prototype.flip=function(){var a,b;return b=Opentip.position[this.toString(!0)],a=(b+4)%8,this.set(Opentip.positions[a]),
this},b.prototype.toString=function(a){var b,e;return null==a&&(a=!1),e="middle"===this.vertical?"":this.vertical,b="center"===this.horizontal?"":this.horizontal,e&&b&&(b=a?Opentip.prototype.ucfirst(b):" "+b),""+e+b},b}();Opentip.prototype._positionsEqual=function(b,a){return null!=b&&null!=a&&b.left===a.left&&b.top===a.top};Opentip.prototype._dimensionsEqual=function(b,a){return null!=b&&null!=a&&b.width===a.width&&b.height===a.height};
Opentip.prototype.debug=function(){var b;return b=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0)?(b.unshift("#"+this.id+" |"),console.debug.apply(console,b)):void 0};
Opentip.findElements=function(){var b,a,d,e,c,l,h,f,g,k;b=Opentip.adapter;g=b.findAll(document.body,"[data-ot]");k=[];h=0;for(f=g.length;f>h;h++){d=g[h];l={};a=b.data(d,"ot");""!==a&&"true"!==a&&"yes"!==a||(a=b.attr(d,"title"),b.attr(d,"title",""));a=a||"";for(e in Opentip.styles.standard)c=b.data(d,"ot"+Opentip.prototype.ucfirst(e)),null!=c&&("yes"===c||"true"===c||"on"===c?c=!0:("no"===c||"false"===c||"off"===c)&&(c=!1),l[e]=c);k.push(new Opentip(d,a,l))}return k};Opentip.version="2.4.6";
Opentip.debug=!1;Opentip.lastId=0;Opentip.lastZIndex=100;Opentip.tips=[];Opentip._abortShowingGroup=function(b,a){var d,e,c,l,h;l=Opentip.tips;h=[];e=0;for(c=l.length;c>e;e++)d=l[e],d!==a&&d.options.group===b?h.push(d._abortShowing()):h.push(void 0);return h};Opentip._hideGroup=function(b,a){var d,e,c,l,h;l=Opentip.tips;h=[];e=0;for(c=l.length;c>e;e++)d=l[e],d!==a&&d.options.group===b?h.push(d.hide()):h.push(void 0);return h};Opentip.adapters={};Opentip.adapter=null;firstAdapter=!0;
Opentip.addAdapter=function(b){return Opentip.adapters[b.name]=b,firstAdapter?(Opentip.adapter=b,b.domReady(Opentip.findElements),b.domReady(Opentip.followMousePosition),firstAdapter=!1):void 0};Opentip.positions="top topRight right bottomRight bottom bottomLeft left topLeft".split(" ");Opentip.position={};_ref=Opentip.positions;i=_i=0;for(_len=_ref.length;_len>_i;i=++_i)position=_ref[i],Opentip.position[position]=i;
Opentip.styles={standard:{"extends":null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:0.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:0.3,hideEffectDuration:0.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",
group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{"extends":"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[0.5,"rgba(255, 255, 255, 0.8)"],[0.5,"rgba(250, 250, 250, 0.9)"],
[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{"extends":"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[0.5,"rgba(30, 30, 30, 0.8)"],[0.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{"extends":"standard",className:"alert",
borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[0.5,"rgba(203, 15, 19, 0.8)"],[0.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}};Opentip.defaultStyle="standard";"undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;var Adapter,__hasProp={}.hasOwnProperty,__slice=[].slice;
Adapter=function(){function b(){}var a,d;return b.prototype.name="native",b.prototype.domReady=function(a){var c,b,d,f,g,k,n,m,s,t;if(d=!1,s=!0,t=window,b=document,"complete"===(c=b.readyState)||"loaded"===c)return a();if(m=b.documentElement,c=b.addEventListener?"addEventListener":"attachEvent",n=b.addEventListener?"removeEventListener":"detachEvent",k=b.addEventListener?"":"on",f=function(c){return"readystatechange"!==c.type||"complete"===b.readyState?(("load"===c.type?t:b)[n](k+c.type,f,!1),d?void 0:
(d=!0,a())):void 0},g=function(){try{m.doScroll("left")}catch(a){return setTimeout(g,50),void 0}return f("poll")},"complete"!==b.readyState){if(b.createEventObject&&m.doScroll){try{s=!t.frameElement}catch(u){}s&&g()}return b[c](k+"DOMContentLoaded",f,!1),b[c](k+"readystatechange",f,!1),t[c](k+"load",f,!1)}},b.prototype.create=function(a){var c;return c=document.createElement("div"),c.innerHTML=a,this.wrap(c.childNodes)},b.prototype.wrap=function(a){var c;if(a)if("string"==typeof a)a=(a=this.find(document.body,
a))?[a]:[];else if(a instanceof NodeList){var b,d,f;f=[];b=0;for(d=a.length;d>b;b++)c=a[b],f.push(c);a=f}else a instanceof Array||(a=[a]);else a=[];return a},b.prototype.unwrap=function(a){return this.wrap(a)[0]},b.prototype.tagName=function(a){return this.unwrap(a).tagName},b.prototype.attr=function(a,c,b){return 3===arguments.length?this.unwrap(a).setAttribute(c,b):this.unwrap(a).getAttribute(c)},d=0,a={},b.prototype.data=function(b,c,l){var h;return h=this.attr(b,"data-id"),h||(h=++d,this.attr(b,
"data-id",h),a[h]={}),3===arguments.length?a[h][c]=l:(l=a[h][c],null!=l?l:(l=this.attr(b,"data-"+Opentip.prototype.dasherize(c)),l&&(a[h][c]=l),l))},b.prototype.find=function(a,b){return this.unwrap(a).querySelector(b)},b.prototype.findAll=function(a,b){return this.unwrap(a).querySelectorAll(b)},b.prototype.update=function(a,b,d){return a=this.unwrap(a),d?(a.innerHTML="",a.appendChild(document.createTextNode(b))):a.innerHTML=b},b.prototype.append=function(a,b){var d,h;return d=this.unwrap(b),h=this.unwrap(a),
h.appendChild(d)},b.prototype.remove=function(a){var b;return a=this.unwrap(a),b=a.parentNode,null!=b?b.removeChild(a):void 0},b.prototype.addClass=function(a,b){return this.unwrap(a).classList.add(b)},b.prototype.removeClass=function(a,b){return this.unwrap(a).classList.remove(b)},b.prototype.css=function(a,b){var d,h,f;a=this.unwrap(this.wrap(a));f=[];for(d in b)__hasProp.call(b,d)&&(h=b[d],f.push(a.style[d]=h));return f},b.prototype.dimensions=function(a){var b,d;return a=this.unwrap(this.wrap(a)),
b={width:a.offsetWidth,height:a.offsetHeight},b.width&&b.height||(d={position:a.style.position||"",visibility:a.style.visibility||"",display:a.style.display||""},this.css(a,{position:"absolute",visibility:"hidden",display:"block"}),b={width:a.offsetWidth,height:a.offsetHeight},this.css(a,d)),b},b.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},
b.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},b.prototype.mousePosition=function(a){var b;if(b={x:0,y:0},null==a&&(a=window.event),null!=a){try{a.pageX||a.pageY?(b.x=a.pageX,b.y=a.pageY):(a.clientX||a.clientY)&&(b.x=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b.y=a.clientY+document.body.scrollTop+document.documentElement.scrollTop)}catch(d){}return b}},b.prototype.offset=function(a){var b;
a=this.unwrap(a);for(b={top:a.offsetTop,left:a.offsetLeft};a=a.offsetParent;)b.top+=a.offsetTop,b.left+=a.offsetLeft,a!==document.body&&(b.top-=a.scrollTop,b.left-=a.scrollLeft);return b},b.prototype.observe=function(a,b,d){return this.unwrap(a).addEventListener(b,d,!1)},b.prototype.stopObserving=function(a,b,d){return this.unwrap(a).removeEventListener(b,d,!1)},b.prototype.ajax=function(a){var b,d,h;if(null==a.url)throw Error("No url provided");if(window.XMLHttpRequest)b=new XMLHttpRequest;else if(window.ActiveXObject)try{b=
new ActiveXObject("Msxml2.XMLHTTP")}catch(f){try{b=new ActiveXObject("Microsoft.XMLHTTP")}catch(g){}}if(!b)throw Error("Can't create XMLHttpRequest");return b.onreadystatechange=function(){if(4===b.readyState){try{200===b.status?"function"==typeof a.onSuccess&&a.onSuccess(b.responseText):"function"==typeof a.onError&&a.onError("Server responded with status "+b.status)}catch(d){"function"==typeof a.onError&&a.onError(d.message)}return"function"==typeof a.onComplete?a.onComplete():void 0}},b.open(null!=
(d=null!=(h=a.method)?h.toUpperCase():void 0)?d:"GET",a.url),b.send()},b.prototype.clone=function(a){var b,d,h;d={};for(b in a)__hasProp.call(a,b)&&(h=a[b],d[b]=h);return d},b.prototype.extend=function(){var a,b,d,h,f,g,k;h=arguments[0];d=2<=arguments.length?__slice.call(arguments,1):[];g=0;for(k=d.length;k>g;g++)for(a in b=d[g],b)__hasProp.call(b,a)&&(f=b[a],h[a]=f);return h},b}();Opentip.addAdapter(new Adapter);
document.createElement("canvas").getContext||function(){function b(){return this.context_||(this.context_=new k(this))}function a(a,b){var c=F.call(arguments,2);return function(){return a.apply(b,c.concat(F.call(arguments)))}}function d(a){var b=a.srcElement;switch(a.propertyName){case "width":b.style.width=b.attributes.width.nodeValue+"px";b.getContext().clearRect();break;case "height":b.style.height=b.attributes.height.nodeValue+"px",b.getContext().clearRect()}}function e(a){a=a.srcElement;a.firstChild&&
(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function c(){return[[1,0,0],[0,1,0],[0,0,1]]}function l(a,b){for(var d=c(),e=0;3>e;e++)for(var f=0;3>f;f++){for(var g=0,h=0;3>h;h++)g+=a[e][h]*b[h][f];d[e][f]=g}return d}function h(a,b){b.fillStyle=a.fillStyle;b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.shadowBlur=a.shadowBlur;b.shadowColor=a.shadowColor;b.shadowOffsetX=a.shadowOffsetX;b.shadowOffsetY=a.shadowOffsetY;
b.strokeStyle=a.strokeStyle;b.globalAlpha=a.globalAlpha;b.arcScaleX_=a.arcScaleX_;b.arcScaleY_=a.arcScaleY_;b.lineScale_=a.lineScale_}function f(a){var b,c=1;if(a+="","rgb"==a.substring(0,3)){b=a.indexOf("(",3);var d=a.indexOf(")",b+1),d=a.substring(b+1,d).split(",");b="#";for(var e=0;3>e;e++)b+=H[Number(d[e])];4==d.length&&"a"==a.substr(3,1)&&(c=d[3])}else b=a;return{color:b,alpha:c}}function g(a){switch(a){case "butt":return"flat";case "round":return"round";default:return"square"}}function k(a){this.m_=
c();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=1*q;this.globalAlpha=1;this.canvas=a;var b=a.ownerDocument.createElement("div");b.style.width=a.clientWidth+"px";b.style.height=a.clientHeight+"px";b.style.position="absolute";a.appendChild(b);this.element_=b;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function n(a,b,c,d){a.currentPath_.push({type:"bezierCurveTo",cp1x:b.x,
cp1y:b.y,cp2x:c.x,cp2y:c.y,x:d.x,y:d.y});a.currentX_=d.x;a.currentY_=d.y}function m(a,b,c){var d;a:{for(d=0;3>d;d++)for(var e=0;2>e;e++)if(!isFinite(b[d][e])||isNaN(b[d][e])){d=!1;break a}d=!0}d&&(a.m_=b,c)&&(a.lineScale_=z(C(b[0][0]*b[1][1]-b[0][1]*b[1][0])))}function s(a){this.type_=a;this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function t(){}var u=Math,r=u.round,x=u.sin,v=u.cos,C=u.abs,z=u.sqrt,q=10,y=q/2,F=Array.prototype.slice,G={init:function(b){/MSIE/.test(navigator.userAgent)&&
!window.opera&&(b=b||document,b.createElement("canvas"),b.attachEvent("onreadystatechange",a(this.init_,this,b)))},init_:function(a){if(a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!a.styleSheets.ex_canvas_){var b=a.createStyleSheet();b.owningElement.id="ex_canvas_";b.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}a=
a.getElementsByTagName("canvas");for(b=0;a.length>b;b++)this.initElement(a[b])},initElement:function(a){if(!a.getContext){a.getContext=b;a.innerHTML="";a.attachEvent("onpropertychange",d);a.attachEvent("onresize",e);var c=a.attributes;c.width&&c.width.specified?a.style.width=c.width.nodeValue+"px":a.width=a.clientWidth;c.height&&c.height.specified?a.style.height=c.height.nodeValue+"px":a.height=a.clientHeight}return a}};G.init();for(var H=[],p=0;16>p;p++)for(var D=0;16>D;D++)H[16*p+D]=p.toString(16)+
D.toString(16);p=k.prototype;p.clearRect=function(){this.element_.innerHTML=""};p.beginPath=function(){this.currentPath_=[]};p.moveTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};p.lineTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};p.bezierCurveTo=function(a,b,c,d,e,f){e=this.getCoords_(e,f);a=this.getCoords_(a,b);c=this.getCoords_(c,
d);n(this,a,c,e)};p.quadraticCurveTo=function(a,b,c,d){a=this.getCoords_(a,b);c=this.getCoords_(c,d);d={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)};n(this,d,{x:d.x+(c.x-this.currentX_)/3,y:d.y+(c.y-this.currentY_)/3},c)};p.arc=function(a,b,c,d,e,f){c*=q;var g=f?"at":"wa",h=a+v(d)*c-y,l=b+x(d)*c-y;d=a+v(e)*c-y;e=b+x(e)*c-y;h!=d||f||(h+=0.125);a=this.getCoords_(a,b);h=this.getCoords_(h,l);d=this.getCoords_(d,e);this.currentPath_.push({type:g,x:a.x,y:a.y,radius:c,
xStart:h.x,yStart:h.y,xEnd:d.x,yEnd:d.y})};p.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath()};p.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.stroke();this.currentPath_=e};p.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,
b+d);this.closePath();this.fill();this.currentPath_=e};p.createLinearGradient=function(a,b,c,d){var e=new s("gradient");return e.x0_=a,e.y0_=b,e.x1_=c,e.y1_=d,e};p.createRadialGradient=function(a,b,c,d,e,f){var g=new s("gradientradial");return g.x0_=a,g.y0_=b,g.r0_=c,g.x1_=d,g.y1_=e,g.r1_=f,g};p.drawImage=function(a){var b,c,d,e,f,g,h,l;d=a.runtimeStyle.width;e=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height="auto";var n=a.width,m=a.height;if(a.runtimeStyle.width=d,a.runtimeStyle.height=
e,3==arguments.length)b=arguments[1],c=arguments[2],f=g=0,h=d=n,l=e=m;else if(5==arguments.length)b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],f=g=0,h=n,l=m;else{if(9!=arguments.length)throw Error("Invalid number of arguments");f=arguments[1];g=arguments[2];h=arguments[3];l=arguments[4];b=arguments[5];c=arguments[6];d=arguments[7];e=arguments[8]}var k=this.getCoords_(b,c),p=[];if(p.push(" <g_vml_:group",' coordsize="',10*q,",",10*q,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",
10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var s=[];s.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",r(k.x/q),",","Dy=",r(k.y/q),"");var t=this.getCoords_(b+d,c),v=this.getCoords_(b,c+e);b=this.getCoords_(b+d,c+e);k.x=u.max(k.x,t.x,v.x,b.x);k.y=u.max(k.y,t.y,v.y,b.y);p.push("padding:0 ",r(k.x/q),"px ",r(k.y/q),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",s.join(""),", sizingmethod='clip');")}else p.push("top:",
r(k.y/q),"px;left:",r(k.x/q),"px;");p.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',q*d,"px;"," height:",q*e,'px;"',' cropleft="',f/n,'"',' croptop="',g/m,'"',' cropright="',(n-f-h)/n,'"',' cropbottom="',(m-g-l)/m,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))};p.stroke=function(a){var b=[],c=f(a?this.fillStyle:this.strokeStyle),d=c.color,c=c.alpha*this.globalAlpha;b.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,
"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*q," ",10*q,'"',' stroked="',!a,'"',' path="');for(var e=null,h=null,l=null,n=null,m=0;this.currentPath_.length>m;m++){var k=this.currentPath_[m];switch(k.type){case "moveTo":b.push(" m ",r(k.x),",",r(k.y));break;case "lineTo":b.push(" l ",r(k.x),",",r(k.y));break;case "close":b.push(" x ");k=null;break;case "bezierCurveTo":b.push(" c ",r(k.cp1x),",",r(k.cp1y),",",r(k.cp2x),",",r(k.cp2y),",",r(k.x),",",r(k.y));break;case "at":case "wa":b.push(" ",
k.type," ",r(k.x-this.arcScaleX_*k.radius),",",r(k.y-this.arcScaleY_*k.radius)," ",r(k.x+this.arcScaleX_*k.radius),",",r(k.y+this.arcScaleY_*k.radius)," ",r(k.xStart),",",r(k.yStart)," ",r(k.xEnd),",",r(k.yEnd))}k&&((null==e||e>k.x)&&(e=k.x),(null==l||k.x>l)&&(l=k.x),(null==h||h>k.y)&&(h=k.y),(null==n||k.y>n)&&(n=k.y))}if(b.push(' ">'),a)if("object"==typeof this.fillStyle){var d=this.fillStyle,p=0,k=c=a=0,s=1;"gradient"==d.type_?(p=d.x1_/this.arcScaleX_,e=d.y1_/this.arcScaleY_,m=this.getCoords_(d.x0_/
this.arcScaleX_,d.y0_/this.arcScaleY_),p=this.getCoords_(p,e),p=180*Math.atan2(p.x-m.x,p.y-m.y)/Math.PI,0>p&&(p+=360),1E-6>p&&(p=0)):(m=this.getCoords_(d.x0_,d.y0_),k=l-e,s=n-h,a=(m.x-e)/k,c=(m.y-h)/s,k/=this.arcScaleX_*q,s/=this.arcScaleY_*q,m=u.max(k,s),k=2*d.r0_/m,s=2*d.r1_/m-k);e=d.colors_;e.sort(function(a,b){return a.offset-b.offset});for(var h=e.length,n=e[0].color,l=e[h-1].color,t=e[0].alpha*this.globalAlpha,v=e[h-1].alpha*this.globalAlpha,x=[],m=0;h>m;m++){var y=e[m];x.push(y.offset*s+k+
" "+y.color)}b.push('<g_vml_:fill type="',d.type_,'"',' method="none" focus="100%"',' color="',n,'"',' color2="',l,'"',' colors="',x.join(","),'"',' opacity="',v,'"',' g_o_:opacity2="',t,'"',' angle="',p,'"',' focusposition="',a,",",c,'" />')}else b.push('<g_vml_:fill color="',d,'" opacity="',c,'" />');else a=this.lineScale_*this.lineWidth,1>a&&(c*=a),b.push("<g_vml_:stroke",' opacity="',c,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',g(this.lineCap),'"',' weight="',
a,'px"',' color="',d,'" />');b.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",b.join(""))};p.fill=function(){this.stroke(!0)};p.closePath=function(){this.currentPath_.push({type:"close"})};p.getCoords_=function(a,b){var c=this.m_;return{x:q*(a*c[0][0]+b*c[1][0]+c[2][0])-y,y:q*(a*c[0][1]+b*c[1][1]+c[2][1])-y}};p.save=function(){var a={};h(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=l(c(),this.m_)};p.restore=function(){h(this.aStack_.pop(),this);this.m_=this.mStack_.pop()};
p.translate=function(a,b){m(this,l([[1,0,0],[0,1,0],[a,b,1]],this.m_),!1)};p.rotate=function(a){var b=v(a);a=x(a);m(this,l([[b,a,0],[-a,b,0],[0,0,1]],this.m_),!1)};p.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;m(this,l([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)};p.transform=function(a,b,c,d,e,f){m(this,l([[a,b,0],[c,d,0],[e,f,1]],this.m_),!0)};p.setTransform=function(a,b,c,d,e,f){m(this,[[a,b,0],[c,d,0],[e,f,1]],!0)};p.clip=function(){};p.arcTo=function(){};p.createPattern=function(){return new t};
s.prototype.addColorStop=function(a,b){b=f(b);this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};G_vmlCanvasManager=G;CanvasRenderingContext2D=k;CanvasGradient=s;CanvasPattern=t}();
"undefined"==typeof document||"classList"in document.createElement("a")||function(b){if("HTMLElement"in b||"Element"in b){b=(b.HTMLElement||b.Element).prototype;var a=Object,d=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},e=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},c=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},l=function(a,b){if(""===b)throw new c("SYNTAX_ERR","An invalid or illegal string was specified");
if(/\s/.test(b))throw new c("INVALID_CHARACTER_ERR","String contains an invalid character");return e.call(a,b)},h=function(a){for(var b=d.call(a.className),b=b?b.split(/\s+/):[],c=0,e=b.length;e>c;c++)this.push(b[c]);this._updateClassName=function(){a.className=this+""}},f=h.prototype=[],g=function(){return new h(this)};if(c.prototype=Error.prototype,f.item=function(a){return this[a]||null},f.contains=function(a){return a+="",-1!==l(this,a)},f.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;
do a=b[c]+"",-1===l(this,a)&&(this.push(a),e=!0);while(d>++c);e&&this._updateClassName()},f.remove=function(){var a,b=arguments,c=0,d=b.length,e=!1;do a=b[c]+"",a=l(this,a),-1!==a&&(this.splice(a,1),e=!0);while(d>++c);e&&this._updateClassName()},f.toggle=function(a,b){a+="";var c=this.contains(a),d=c?!0!==b&&"remove":!1!==b&&"add";return d&&this[d](a),c},f.toString=function(){return this.join(" ")},a.defineProperty){f={get:g,enumerable:!0,configurable:!0};try{a.defineProperty(b,"classList",f)}catch(k){-2146823252===
k.number&&(f.enumerable=!1,a.defineProperty(b,"classList",f))}}else a.prototype.__defineGetter__&&b.__defineGetter__("classList",g)}}(self);
!window.addEventListener&&function(b,a,d,e,c,l,h){b[e]=a[e]=d[e]=function(a,b){var c=this;h.unshift([c,a,b,function(a){a.currentTarget=c;a.preventDefault=function(){a.returnValue=!1};a.stopPropagation=function(){a.cancelBubble=!0};a.target=a.srcElement||c;b.call(c,a)}]);this.attachEvent("on"+a,h[0][3])};b[c]=a[c]=d[c]=function(a,b){for(var c,d=0;c=h[d];++d)if(c[0]==this&&c[1]==a&&c[2]==b)return this.detachEvent("on"+a,h.splice(d,1)[0][3])};b[l]=a[l]=d[l]=function(a){return this.fireEvent("on"+a.type,
a)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]);