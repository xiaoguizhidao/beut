FormElementDependenceController=Class.create();
FormElementDependenceController.prototype={initialize:function(c,d){d&&(this._config=d);for(var b in c)for(var e in c[b])$(e)&&Event.observe($(e),"change",this.trackChange.bindAsEventListener(this,b,c[b])),this.trackChange(null,b,c[b])},_config:{levels_up:1},trackChange:function(c,d,b){c=!0;for(var e in b){var f=$(e);b[e]instanceof Array?f&&-1!=b[e].indexOf(f.value)||(c=!1):f&&f.value==b[e]||(c=!1)}if($(d))if(c){var g=this._config;$(d).up(this._config.levels_up).select("input","select","td").each(function(a){a.type&&
"hidden"==a.type||$(a.id+"_inherit")&&$(a.id+"_inherit").checked||void 0!=g.can_edit_price&&!g.can_edit_price||(a.disabled=!1)});$(d).up(this._config.levels_up).show()}else $(d).up(this._config.levels_up).select("input","select","td").each(function(a){a.type&&"hidden"==a.type||$(a.id+"_inherit")&&$(a.id+"_inherit").checked||(a.disabled=!0)}),$(d).up(this._config.levels_up).hide()}};